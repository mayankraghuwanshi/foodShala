(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,t,a){e.exports=a(73)},45:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(19),o=a.n(c),l=(a(45),a(3)),s=a(16),i=a(37),m={},u=a(1),d=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},p={isAuthenticated:!1,loading:!1,user:{}},E={isLoading:!1,restaurants:[],restaurant:{}},f={items:[],itemSize:0,totalPrice:0,ownerId:0},g={orders:[]},b=Object(s.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"SET_CURRENT_USER":return Object(u.a)(Object(u.a)({},e),{},{loading:!1,user:r,isAuthenticated:!d(r)});case"LOG_OUT_USER":return{isAuthenticated:!1,loading:!1,user:{}};default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a=t.payload,r=t.type;switch(r){case"GET_ERROR":return a;case"CLEAR_ERRORS":return m;default:return e}},restaurantData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"GET_ALL_RESTAURANTS":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,restaurants:r});case"DELETE_RESTAURANT":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,restaurants:e.restaurants.filter((function(e){return e._id!==r}))});case"GET_RESTAURANT":return Object(u.a)(Object(u.a)({},e),{},{isLoading:!1,restaurant:r});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=t.payload,r=t.type;switch(r){case"ADD_ITEM_TO_CART":for(var n=a.recipe,c=a.ownerId,o=e.items,l=e.totalPrice,s=e.itemSize,i=!0,m=0;m<o.length;m++)if(o[m]._id===n._id){o[m].count+=1,l+=o[m].price,s+=1,i=!1;break}return i&&(o.push(n),l+=n.price,s++),{items:o,itemSize:s,totalPrice:l,ownerId:c};case"CLEAR_CART":return{items:[],itemSize:0,totalPrice:0,ownerId:0};default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,a=t.payload,r=t.type;switch(r){case"GET_ORDERS":return{orders:a};default:return e}}}),h=[i.a],v=s.a.apply(void 0,h),N=Object(s.d)(b,{},v),O=a(6),y=a(4),R=a(12),w=a(7),j=a(38),A=a.n(j),C=function(e){var t=e.type,a=void 0===t?"text":t,r=e.name,c=e.value,o=(e.label,e.error),l=e.info,s=e.onChange,i=(e.disable,e.placeholder);return n.a.createElement("div",{className:"form-group"},n.a.createElement("input",{type:a,className:A()("form-control form-control-lg",{"is-invalid":o}),value:c,onChange:s,placeholder:i,name:r}),l&&n.a.createElement("small",{className:"form-text text-mute"},l),o&&n.a.createElement("div",{className:"invalid-feedback"},o))},x=a(5),T=a.n(x),k="http://localhost:3500",S=a(21),_=a.n(S),U=function(e){e?T.a.defaults.headers.common.Authorization=e:delete T.a.defaults.headers.common.Authorization},I=function(){return function(e){e({type:"CLEAR_ERRORS"})}},L=function(e){return{type:"SET_CURRENT_USER",payload:e}},D=Object(l.b)((function(e){return{errors:e.errors}}),{createUserAction:function(e){return function(t){T.a.post(k+"/api/users/",e).then((function(e){window.location.href="/#/users/login"})).catch((function(e){console.log(e),t({type:"GET_ERROR",payload:e.response.data.errors})}))}},clearErrorAction:I})((function(e){var t=e.createUserAction,a=(e.clearErrorAction,Object(r.useState)({name:"",email:"",password:"",role:"customer",preferredMeal:"veg",errors:e.errors})),c=Object(w.a)(a,2),o=c[0],l=c[1],s=o.errors,i=function(e){var t=e.target,a=t.name,r=t.value;l(Object(u.a)(Object(u.a)({},o),{},Object(R.a)({errors:{}},a,r)))};return Object(r.useEffect)((function(){l(Object(u.a)(Object(u.a)({},o),{},{errors:e.errors}))}),[e.errors]),n.a.createElement("div",{className:"register"},n.a.createElement("div",{className:"container box bg-light p-5"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6 m-auto"},n.a.createElement("h1",{className:"display-4 text-center"},"Sign Up"),n.a.createElement("p",{className:"lead text-center"},"Create your foodShala account"),n.a.createElement(C,{type:"text",name:"name",onChange:function(e){return i(e)},value:o.name,placeholder:"Name",error:s.name}),n.a.createElement(C,{type:"text",name:"email",onChange:function(e){return i(e)},value:o.email,placeholder:"Email",error:s.email}),n.a.createElement(C,{type:"text",name:"password",onChange:function(e){return i(e)},value:o.password,placeholder:"Password",error:s.password}),n.a.createElement("div",{className:"form-group"},n.a.createElement("select",{className:"form-control form-control-lg",name:"role",value:o.role,onChange:function(e){return i(e)}},n.a.createElement("option",{value:"customer"},"Customer"),n.a.createElement("option",{value:"admin"},"Admin"),n.a.createElement("option",{value:"owner"},"Restaurant Owner"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("select",{className:"form-control form-control-lg",name:"preferredMeal",value:o.preferredMeal,onChange:function(e){return i(e)}},n.a.createElement("option",{value:"veg"},"Vegetarian"),n.a.createElement("option",{value:"non-veg"},"Non-vegetarian"),n.a.createElement("option",{value:"both"},"Both"))),n.a.createElement("input",{type:"button",value:"Submit",onClick:function(){return t(o)},className:"btn btn-info btn-block mt-4"})))))})),G=Object(l.b)((function(e){return{errors:e.errors}}),{loginUserAction:function(e){return function(t){T.a.post(k+"/api/users/login",e).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),U(a);var r=_()(a);t(L(r)),window.location.href="/"})).catch((function(e){e.response.data.errors&&t({type:"GET_ERROR",payload:e.response.data.errors})}))}},clearErrorAction:I})((function(e){var t=e.loginUserAction,a=e.clearErrorAction,c=Object(r.useState)({email:"",password:"",errors:e.errors}),o=Object(w.a)(c,2),l=o[0],s=o[1],i=l.errors,m=function(e){var t=e.target,a=t.name,r=t.value;s(Object(u.a)(Object(u.a)({},l),{},Object(R.a)({errors:{}},a,r)))};return Object(r.useEffect)((function(){a()}),[]),Object(r.useEffect)((function(){s(Object(u.a)(Object(u.a)({},l),{},{errors:e.errors}))}),[e.errors]),n.a.createElement("div",{className:"login"},n.a.createElement("div",{className:"box container bg-light p-5"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6 m-auto"},n.a.createElement("h1",{className:"display-4 text-center"},"Sign In"),n.a.createElement("p",{className:"lead text-center"},"Sign in to your foodShala account"),n.a.createElement(C,{type:"text",name:"email",onChange:function(e){return m(e)},value:l.email,placeholder:"Email",error:i.email}),n.a.createElement(C,{type:"text",name:"password",onChange:function(e){return m(e)},value:l.password,placeholder:"Password",error:i.password}),n.a.createElement("input",{type:"button",value:"Sign In",onClick:function(){return t(l)},className:"btn btn-info btn-block mt-4"})))))})),M=function(e){return function(t){T.a.get(k+"/api/restaurants/"+e).then((function(e){t({type:"GET_RESTAURANT",payload:e.data})})).catch((function(e){console.error(e),e.response.data.errors&&t({type:"GET_ERROR",payload:e.response.data.errors})}))}},P=Object(l.b)((function(e){return{errors:e.errors,user:e.auth.user}}),{registerRestaurantAction:function(e){return function(t){T.a.post(k+"/api/restaurants",e).then((function(e){window.location.href="/#/restaurants/get/"+e.data._id})).catch((function(e){e.response.data.errors&&(console.log(e.response.data.errors),t({type:"GET_ERROR",payload:e.response.data.errors}))}))}}})((function(e){var t=Object(r.useState)({name:"",description:"",address:"",contactNumber:"",status:"open",imageUrl:"",errors:e.errors,userId:e.user._id}),a=Object(w.a)(t,2),c=a[0],o=a[1],l=c.errors,s=e.registerRestaurantAction;Object(r.useEffect)((function(){o(Object(u.a)(Object(u.a)({},c),{},{errors:e.errors}))}),[e.errors]);var i=function(e){var t=e.target,a=t.name,r=t.value;o(Object(u.a)(Object(u.a)({},c),{},Object(R.a)({errors:{}},a,r)))};return n.a.createElement("div",{className:"register"},n.a.createElement("div",{className:"container box bg-light p-5"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-8 m-auto"},n.a.createElement("h1",{className:"display-4 text-center"},"Register"),n.a.createElement("p",{className:"lead text-center"},"Register your restaurant"),n.a.createElement(C,{name:"name",placeholder:"Name",value:c.name,error:l.name,onChange:function(e){return i(e)}}),n.a.createElement(C,{name:"description",placeholder:"Description",value:c.description,error:l.description,onChange:function(e){return i(e)}}),n.a.createElement(C,{name:"address",placeholder:"Address",value:c.address,error:l.address,onChange:function(e){return i(e)}}),n.a.createElement(C,{name:"contactNumber",placeholder:"Contact Number",value:c.contactNumber,error:l.contactNumber,onChange:function(e){return i(e)}}),n.a.createElement(C,{name:"imageUrl",placeholder:"Image URL",value:c.imageUrl,error:l.imageUrl,onChange:function(e){return i(e)}}),n.a.createElement("div",{className:"form-group"},n.a.createElement("select",{className:"form-control form-control-lg",name:"status",value:c.status,onChange:function(e){return i(e)}},n.a.createElement("option",{value:"open"},"Open"),n.a.createElement("option",{value:"closed"},"Closed"),n.a.createElement("option",{value:"not-accepting-orders"},"Not Accepting Order"))),n.a.createElement("input",{type:"button",value:"Submit",onClick:function(){return s(c)},className:"btn btn-info btn-block mt-4"})))))})),z=a(39),F=Object(l.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,r=Object(z.a)(e,["component","auth"]);return n.a.createElement(y.b,Object.assign({},r,{render:function(e){return!0===a.isAuthenticated?n.a.createElement(t,e):n.a.createElement(y.a,{to:"/users/login"})}}))})),B=Object(l.b)((function(e){return{errors:e.errors}}),{registerRecipeAction:function(e,t){return function(a){T.a.post(k+"/api/recipes/"+t,e).then((function(e){window.location.href="/#/restaurants/get/"+t})).catch((function(e){e.response.data.errors&&(console.log(e.response.data.errors),a({type:"GET_ERROR",payload:e.response.data.errors}))}))}}})((function(e){var t=Object(r.useState)({name:"",description:"",price:"",mealType:"veg",imageUrl:"",errors:e.errors}),a=Object(w.a)(t,2),c=a[0],o=a[1],l=c.errors,s=e.registerRecipeAction,i=e.match.params.restaurantId;Object(r.useEffect)((function(){o(Object(u.a)(Object(u.a)({},c),{},{errors:e.errors}))}),[e.errors]);var m=function(e){var t=e.target,a=t.name,r=t.value;o(Object(u.a)(Object(u.a)({},c),{},Object(R.a)({errors:{}},a,r)))};return n.a.createElement("div",{className:"register-recipe"},n.a.createElement("div",{className:"container bg-light p-5"},n.a.createElement("div",{className:"col-md-8 m-auto"},n.a.createElement("h1",{className:"display-4 text-center"},"Register Recipe"),n.a.createElement("p",{className:"lead text-center"}),n.a.createElement(C,{name:"name",placeholder:"Name",value:c.name,error:l.name,onChange:function(e){return m(e)}}),n.a.createElement(C,{name:"description",placeholder:"Description",value:c.description,error:l.description,onChange:function(e){return m(e)}}),n.a.createElement(C,{name:"price",placeholder:"price",value:c.price,error:l.price,onChange:function(e){return m(e)}}),n.a.createElement(C,{name:"imageUrl",placeholder:"Image URL",value:c.imageUrl,error:l.imageUrl,onChange:function(e){return m(e)}}),n.a.createElement("div",{className:"form-group"},n.a.createElement("select",{className:"form-control form-control-lg",name:"mealType",value:c.mealType,onChange:function(e){return m(e)}},n.a.createElement("option",{value:"veg"},"Vegetarian"),n.a.createElement("option",{value:"non-veg"},"Non Vegetarian"),n.a.createElement("option",{value:"both"},"Both"))),n.a.createElement("input",{type:"button",value:"Submit",onClick:function(){return s(c,i)},className:"btn btn-info btn-block mt-4"}))))})),V=a(13),H=a.n(V),J=a(15),Y=(a(71),function(){return n.a.createElement("div",null,n.a.createElement("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}),n.a.createElement("span",{className:"fa fa-star checked"}),n.a.createElement("span",{className:"fa fa-star checked"}),n.a.createElement("span",{className:"fa fa-star checked"}),n.a.createElement("span",{className:"fa fa-star"}),n.a.createElement("span",{className:"fa fa-star"}))}),q=function(e){var t=e.deleteRestaurantAction,a=e.name,r=e.description,c=e.address,o=e.imageUrl,l=e.contactNumber,s=e.restaurantId,i=e.isModificationAllow;return n.a.createElement("div",{className:"col-md-4"},n.a.createElement("div",{style:{margin:"10px 0 5px 0"},className:"card"},n.a.createElement("img",{className:"card-img-top",src:o||"https://hinterlandbeer.com/wp-content/themes/hinterland-qxz/images/Eats.jpg"}),n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},a),n.a.createElement(Y,null),n.a.createElement("div",{style:{marginTop:"10px"}},n.a.createElement("p",null,n.a.createElement("i",{className:"fas fa-utensils"},"\xa0"),r),n.a.createElement("p",null,n.a.createElement("i",{className:"fas fa-map-marked-alt"},"\xa0"),c),n.a.createElement("p",null,n.a.createElement("i",{className:"far fa-address-book"},"\xa0"),l)),n.a.createElement("a",{href:"/#/restaurants/get/".concat(s),className:"btn btn-primary m-1"},"View"),i?n.a.createElement("span",null,n.a.createElement("a",{onClick:function(){window.confirm("Do you wanna delete this restaurant ?")&&t(s)},className:"btn btn-danger m-1"},"Delete")):"")))},Q=Object(l.b)((function(e){return{restaurants:e.restaurantData.restaurants,auth:e.auth}}),{getAllRestaurantsAction:function(){return function(e){T.a.get(k+"/api/restaurants").then((function(t){e({type:"GET_ALL_RESTAURANTS",payload:t.data})})).catch((function(e){console.error(e)}))}},deleteRestaurantAction:function(e){return function(t){T.a.delete(k+"/api/restaurants/"+e).then((function(a){a.data.success&&t({type:"DELETE_RESTAURANT",payload:e})})).catch((function(e){e.response.data.errors&&t({GET_ERROR:"GET_ERROR",payload:e.response.data.errors})}))}}})((function(e){var t=Object(r.useState)(!0),a=Object(w.a)(t,2),c=a[0],o=a[1],l=e.restaurants,s=e.getAllRestaurantsAction,i=e.deleteRestaurantAction,m=e.auth,u=m.isAuthenticated,d=m.user;return Object(r.useEffect)((function(){function e(){return(e=Object(J.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:return e.next=4,t(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(o)}),[]),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},c?n.a.createElement("div",null,n.a.createElement("h1",null,"loading")):l.map((function(e,t){return n.a.createElement(q,{name:e.name,description:e.description,contactNumber:e.contactNumber,address:e.address,key:t,imageUrl:e.imageUrl,isModificationAllow:u&&d._id===e.owner,deleteRestaurantAction:i,restaurantId:e._id})}))))})),W=(a(72),function(e){var t=e.recipe,a=e.addToCartAction,r=e.auth,c=e.restaurant;return n.a.createElement("div",{className:"card card-body bg-light m-1"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("img",{width:"200px",height:"auto",className:"rounded-circle img-thumbnail",src:t.imageUrl})),n.a.createElement("div",{className:"col"},n.a.createElement("h3",null,t.name),n.a.createElement("p",null,t.description),n.a.createElement("p",null,n.a.createElement("i",{className:"fas fa-rupee-sign"}),t.price),n.a.createElement("a",{className:"badge badge-success"},t.mealType),n.a.createElement("br",null)),n.a.createElement("div",{className:"col"},r.isAuthenticated?"customer"===r.user.role?n.a.createElement("button",{type:"button",onClick:function(){return a(t,c.owner)},className:"btn btn-primary"},"Add to cart"):"Pls sign in as customer":"")))}),K=function(e){var t=e.recipes,a=e.addToCartAction,r=e.auth,c=e.restaurant;return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row center"},n.a.createElement("div",{className:"col-md-8"},t.map((function(e,t){return n.a.createElement(W,{recipe:e,addToCartAction:a,auth:r,restaurant:c})})))))},X=Object(l.b)((function(e){return{restaurant:e.restaurantData.restaurant,auth:e.auth}}),{getRestaurantAction:M,addToCartAction:function(e,t){return function(a){e.count=1;var r={recipe:e,ownerId:t};window.alert(e.name+" added to cart."),a({type:"ADD_ITEM_TO_CART",payload:r})}}})((function(e){var t=Object(y.f)().restaurantId,a=e.getRestaurantAction,c=e.auth,o=e.addToCartAction,l=Object(r.useState)(!0),s=Object(w.a)(l,2),i=s[0],m=s[1],u=e.restaurant,d=u.menu?u.menu:[];return Object(r.useEffect)((function(){function e(){return(e=Object(J.a)(H.a.mark((function e(r){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:return e.next=4,r(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(t){e.apply(this,arguments)}(m)}),[t]),n.a.createElement("div",null,i?n.a.createElement("div",null,n.a.createElement("h1",null,"Loading")):n.a.createElement("div",null,n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row center"},n.a.createElement("div",{className:"col-md-8"},n.a.createElement("div",{className:"card card-body bg-light m-1"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("img",{width:"400px",className:"img-thumbnail",src:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80"})),n.a.createElement("div",{className:"col"},n.a.createElement("h1",null,u.name),n.a.createElement(Y,null),n.a.createElement("p",null,n.a.createElement("i",{className:"fas fa-utensils"},"\xa0"),u.description),n.a.createElement("p",null,n.a.createElement("i",{className:"fas fa-map-marked-alt"},"\xa0"),u.address),n.a.createElement("p",null,n.a.createElement("i",{className:"far fa-address-book"},"\xa0"),u.contactNumber),c.isAuthenticated&&("admin"===c.user.role||"owner"===c.user.role)?n.a.createElement(O.b,{to:"/recipes/register/".concat(t)},n.a.createElement("button",{className:"btn btn-primary"},"Add menu")):"")))))),n.a.createElement("h3",{align:"center"},"Menu"),n.a.createElement(K,{recipes:d,addToCartAction:o,auth:c,restaurant:u})))})),Z=Object(l.b)((function(e){return{auth:e.auth,cart:e.cart}}),{logOutUserAction:function(){return function(e){localStorage.removeItem("jwtToken"),U(!1),e(L({})),window.location.href="/#/login"}}})((function(e){var t=e.auth,a=e.cart,r=e.logOutUserAction,c=n.a.createElement("ul",{className:"navbar-nav ml-auto"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(O.b,{className:"nav-link",to:"/"},"Home")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(O.b,{className:"nav-link",to:"/restaurants/register"},"Add restaurant")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(O.b,{className:"nav-link",to:"/cart"},a.itemSize," Cart")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(O.b,{className:"nav-link",to:"/orders"},"My orders")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(O.b,{className:"nav-link",to:"/users/login",onClick:function(){return r()}},n.a.createElement("img",{className:"rounded-circle",style:{width:"25px",marginRight:"5px"},src:"https://cdn3.iconfinder.com/data/icons/avatars-round-flat/33/avat-01-512.png  ",alt:"",title:"You must have a Gravatar connected to your email to display an image"})," Logout"))),o=n.a.createElement("ul",{className:"navbar-nav ml-auto"},n.a.createElement("ul",{className:"navbar-nav ml-auto"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(O.b,{className:"nav-link",to:"/"},"Home")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(O.b,{className:"nav-link",to:"/cart"},a.itemSize," Cart")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(O.b,{className:"nav-link",to:"/orders"},"My orders")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(O.b,{className:"nav-link",to:"/users/login",onClick:function(){return r()}},n.a.createElement("img",{className:"rounded-circle",style:{width:"25px",marginRight:"5px"},src:"https://cdn3.iconfinder.com/data/icons/avatars-round-flat/33/avat-01-512.png  ",alt:"",title:"You must have a Gravatar connected to your email to display an image"})," Logout")))),l=n.a.createElement("ul",{className:"navbar-nav ml-auto"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(O.b,{className:"nav-link",to:"/users/register"},"Sign Up")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(O.b,{className:"nav-link",to:"/users/login"},"Login")));return n.a.createElement("div",{style:{backgroundColor:"teal"}},n.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-gradient mb-4"},n.a.createElement("div",{className:"container"},n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mobile-nav"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"mobile-nav"},n.a.createElement("ul",{className:"navbar-nav mr-auto"},n.a.createElement("li",{className:"nav-item"})),t.isAuthenticated?"customer"===t.user.role?o:c:l))))})),$=Object(l.b)((function(e){return{errors:e.errors,user:e.auth.user,restaurant:e.restaurantData.restaurant}}),{updateRestaurantAction:function(e,t){return function(a){T.a.patch(k+"/api/restaurants/"+t,e).then((function(t){window.location.href="/#/restaurants/get/"+e._id})).catch((function(e){e.response.data.errors&&a({type:"GET_ERROR",payload:e.response.data.errors})}))}},getRestaurantAction:M})((function(e){var t=Object(y.f)().restaurantId,a=e.restaurant,c=Object(r.useState)({name:a.name,description:a.description,address:a.address,contactNumber:a.contactNumber,status:a.status,imageUrl:a.imageUrl,errors:e.errors,userId:e.user._id}),o=Object(w.a)(c,2),l=o[0],s=o[1],i=Object(r.useState)(!0),m=Object(w.a)(i,2),d=m[0],p=m[1],E=l.errors,f=e.updateRestaurantAction,g=e.getRestaurantAction;Object(r.useEffect)((function(){function r(){return(r=Object(J.a)(H.a.mark((function e(a){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:a(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){r.apply(this,arguments)}(p),s({name:a.name,description:a.description,address:a.address,contactNumber:a.contactNumber,status:a.status,imageUrl:a.imageUrl,errors:e.errors,userId:e.user._id})}),[]),Object(r.useEffect)((function(){s(Object(u.a)(Object(u.a)({},l),{},{errors:e.errors}))}),[e.errors]);var b=function(e){var t=e.target,a=t.name,r=t.value;s(Object(u.a)(Object(u.a)({},l),{},Object(R.a)({errors:{}},a,r)))};return console.log(e.restaurant),n.a.createElement("div",{className:"register"},d?n.a.createElement("h1",null,"Loading"):n.a.createElement("div",{className:"container box bg-light p-5"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-8 m-auto"},n.a.createElement("h1",{className:"display-4 text-center"},"Edit"),n.a.createElement("p",{className:"lead text-center"},"Update your restaurant"),n.a.createElement(C,{name:"name",placeholder:"Name",value:l.name,error:E.name,onChange:function(e){return b(e)}}),n.a.createElement(C,{name:"description",placeholder:"Description",value:l.description,error:E.description,onChange:function(e){return b(e)}}),n.a.createElement(C,{name:"address",placeholder:"Address",value:l.address,error:E.address,onChange:function(e){return b(e)}}),n.a.createElement(C,{name:"contactNumber",placeholder:"Contact Number",value:l.contactNumber,error:E.contactNumber,onChange:function(e){return b(e)}}),n.a.createElement(C,{name:"imageUrl",placeholder:"Image URL",value:l.imageUrl,error:E.imageUrl,onChange:function(e){return b(e)}}),n.a.createElement("div",{className:"form-group"},n.a.createElement("select",{className:"form-control form-control-lg",name:"status",value:l.status,onChange:function(e){return b(e)}},n.a.createElement("option",{value:"open"},"Open"),n.a.createElement("option",{value:"closed"},"Closed"),n.a.createElement("option",{value:"not-accepting-orders"},"Not Accepting Order"))),n.a.createElement("input",{type:"button",value:"Submit",onClick:function(){return f(l,t)},className:"btn btn-info btn-block mt-4"})))))})),ee=function(e){var t=e.recipe;return n.a.createElement("div",{className:"card card-body bg-light m-1"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("img",{width:"200px",height:"auto",className:"rounded-circle img-thumbnail",src:t.imageUrl})),n.a.createElement("div",{className:"col"},n.a.createElement("h3",null,t.name),n.a.createElement("p",null,t.description),n.a.createElement("p",null,n.a.createElement("i",{className:"fas fa-rupee-sign"}),t.price),n.a.createElement("a",{className:"badge badge-success"},t.mealType),n.a.createElement("br",null),n.a.createElement("p",null,"item : ",t.count))))},te=function(e){var t=e.recipes;return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row center"},n.a.createElement("div",{className:"col-md-8"},t.map((function(e,t){return n.a.createElement(ee,{recipe:e})})))))},ae=Object(l.b)((function(e){return{cart:e.cart,auth:e.auth}}),{orderAction:function(e,t){return function(a){console.log(e);var r=e.ownerId;T.a.post(k+"/api/orders/"+r,{cart:e,customerId:t}).then((function(e){a({type:"CLEAR_CART"}),window.location.href="/#/orders"})).catch((function(e){console.log(e)}))}}})((function(e){var t=e.cart,a=e.orderAction,r=e.auth;return n.a.createElement("div",null,n.a.createElement(te,{recipes:t.items}),n.a.createElement("h2",{className:"mt-5",align:"center"},"Total Price: ",t.totalPrice),n.a.createElement("div",{style:{width:"100px",margin:"auto",display:"block"}},n.a.createElement("button",{onClick:function(){return a(t,r.user._id)},className:"btn btn-primary center",disabled:0===t.itemSize},"Order")))})),re=Object(l.b)((function(e){return{auth:e.auth,order:e.order}}),{getOrdersActionForOwner:function(e){return function(t){T.a.get(k+"/api/orders/owner/"+e).then((function(e){t({type:"GET_ORDERS",payload:e.data})})).catch((function(e){e.response.data.errors&&t({type:"GET_ERROR",payload:e.response.data.errors})}))}},getOrdersActionForCustomer:function(e){return function(t){T.a.get(k+"/api/orders/customer/"+e).then((function(e){t({type:"GET_ORDERS",payload:e.data})})).catch((function(e){e.response.data.errors&&t({type:"GET_ERROR",payload:e.response.data.errors})}))}}})((function(e){var t=e.getOrdersActionForOwner,a=e.getOrdersActionForCustomer,c=e.auth,o=(e.order,1);return Object(r.useEffect)((function(){function e(){return(e=Object(J.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("customer"!==c.user.role){e.next=5;break}return e.next=3,a(c.user._id);case 3:e.next=7;break;case 5:return e.next=7,t(c.user._id);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n.a.createElement("div",{className:"container bg-light"},n.a.createElement("table",{className:"table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"col"},"#"),n.a.createElement("th",{scope:"col"},"Customer"),n.a.createElement("th",{scope:"col"},"Owner"),n.a.createElement("th",{scope:"col"},"Total Price"),n.a.createElement("th",{scope:"col"},"Status"),n.a.createElement("th",{scope:"col"},"Action"))),n.a.createElement("tbody",null,e.order?e.order.orders.map((function(e,t){return n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},o++),n.a.createElement("td",null,e.owner),n.a.createElement("td",null,e.customer),n.a.createElement("td",null,e.totalPrice),n.a.createElement("td",null,e.isDelivered?"Done":"Pending"),n.a.createElement("td",null,"customer"===c.user.role?n.a.createElement("button",{className:"btn btn-primary"},"Cancel"):n.a.createElement("button",{className:"btn btn-primary"},"Accept")))})):"")))})),ne=function(){return console.log("woh"),n.a.createElement("footer",{style:{backgroundColor:"teal",fontSize:"15px"},className:"text-white mt-5 p-4 text-center"},"Copyright \xa9 ",(new Date).getFullYear()," Mayank Raghuvanshi")};if(localStorage.jwtToken){U(localStorage.jwtToken);var ce=_()(localStorage.jwtToken);N.dispatch(L(ce))}var oe=function(){return n.a.createElement(l.a,{store:N},n.a.createElement(O.a,{basename:""},n.a.createElement("div",{className:"App"},n.a.createElement(Z,null),n.a.createElement(y.b,{exact:!0,path:"/"},n.a.createElement(Q,null)),n.a.createElement(F,{exact:!0,path:"/cart",component:ae}),n.a.createElement(F,{exact:!0,path:"/orders",component:re}),n.a.createElement(y.b,{exact:!0,path:"/users/login"},n.a.createElement(G,null)),n.a.createElement(y.b,{exact:!0,path:"/users/register"},n.a.createElement(D,null)),n.a.createElement(y.b,{exact:!0,path:"/restaurants/get/:restaurantId"},n.a.createElement(X,null)),n.a.createElement(F,{excat:!0,path:"/restaurants/register",component:P}),n.a.createElement(F,{excat:!0,path:"/recipes/register/:restaurantId",component:B}),n.a.createElement(F,{excat:!0,path:"/restaurants/update/:restaurantId",component:$}),n.a.createElement(ne,null))))};o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(oe,null)),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.e03a553c.chunk.js.map